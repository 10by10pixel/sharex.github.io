<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">

    <title>ShareX - Take screenshots, Annotate, Upload and share URL in clipboard</title>

    <meta name="description=" content="ShareX is an open source program that lets you take screenshots of any selected area with a single key, save them in your clipboard, hard disk or instantly upload them to over 30 different file hosting services.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet" type="text/css">

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/sharex.css" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon.ico">
</head>

<body>
    <div class="jumbotron masthead jumbopurple">
        <div class="container">
            <h1>ShareX</h1>
            <p>GitHub authorization</p>
        </div>
    </div>

    <div class="container">
        <p id="github_auth_container">
            <div class="panel" id="panel">
                <div class="panel-heading"><strong><span id="title"></span></strong></div>
                <div class="panel-body"><span id="content" /></div>
            </div>
        </p>
    </div>

    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.clipboard.min.js"></script>

    <script type="text/javascript">
        function getParameterByName(name) {
            var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
            return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
        }
        
        $(document).ready(function() {
            if (getParameterByName('code')) {
                $('#panel').addClass('panel-success');
                $('#title').html('Please paste following code in ShareX');
                $('#content').html('<div class="input-group"> \
                                        <input type="text" class="form-control" onClick="this.select();" value="' + getParameterByName("code") + '" id="code" /> \
                                        <span class="input-group-btn"> \
                                            <button class="btn btn-default" type="button" id="copy">Copy to clipboard</button> \
                                        </span> \
                                    </div>');
                
                $('button#copy').clipboard({
                    path:'../img/jquery.clipboard.swf',
                    copy:function() { return $('input#code').val(); }
                });

            } else if (getParameterByName('error')) {
                $('#panel').addClass('panel-danger');
                $('#title').html('ShareX is not properly authorized on GitHub');
                $('#content').html('(Error: ' + getParameterByName('error') + ')');
            } else {
                $('#panel').addClass('panel-warning');
                $('#title').html('Invalid access');
                $('#content').html('Unexpected error occured. Please contact ShareX team.');
            }
        });
    </script>
    
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-40712139-3', 'getsharex.com');
        ga('send', 'pageview');
    </script>
</body>
</html>